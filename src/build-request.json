{
  "kind": "build_request",
  "title": "Add in-app deployment/publish link guidance and build version verification",
  "projectName": "Hotel Admin Portal",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add an Admin Panel section that helps admins verify whether the latest deployment is actually being served by the browser, by prominently showing the current BUILD_VERSION and basic runtime info (current URL/origin, detected network/canister host if available) with a one-click copy action.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "kenapa belum berubah? Apakah deploy nya gagal? Coba deploy ulang dan saya minta link publish nya"
        ]
      },
      "acceptanceCriteria": [
        "Admin Panel includes a clearly labeled card/section (e.g., \"Deployment / Publish Info\")",
        "The section displays the same build version string used in the footer (BUILD_VERSION)",
        "The section displays the current window location (at least origin + pathname) and provides a copy-to-clipboard button",
        "Copy action shows a success toast and copies the displayed value exactly",
        "Section is visible only to admins (i.e., only on /admin behind existing RequireRole)"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Extend the existing deploy/publish guidance UI so that it explicitly tells users how to obtain the platform Publish URL/Open App link, and includes cache-busting steps when changes are not visible (hard refresh instructions and an in-app reload button). All user-facing text must be in English.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "kenapa belum berubah? Apakah deploy nya gagal? Coba deploy ulang dan saya minta link publish nya"
        ]
      },
      "acceptanceCriteria": [
        "The deploy guidance explains that the platform may not display the Publish URL/Open App link reliably and provides concrete steps (refresh page, switch Draft/Live tabs)",
        "The deploy guidance includes cache-busting steps (hard refresh instructions)",
        "The UI includes a \"Reload app\" button that triggers a full page reload (location.reload)",
        "No non-English text is introduced in the new/updated UI"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure the application visibly changes its build identifier whenever a new release is produced by updating the frontend build version constant so users can confirm they are on the latest version.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-19"
        ],
        "quotes": [
          "kenapa belum berubah? Apakah deploy nya gagal? Coba deploy ulang dan saya minta link publish nya"
        ]
      },
      "acceptanceCriteria": [
        "BUILD_VERSION is changed from its current value to a new value for this release",
        "The updated build version is visible in the AppShell footer",
        "The updated build version is also visible in the new Admin \"Deployment / Publish Info\" section"
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/components/ui (shadcn UI components are read-only).",
    "Do not attempt to implement platform-level deployment or generate an actual Caffeine Publish URL inside the app; only provide in-app guidance and verification UI.",
    "Keep the existing role-based route protection (RequireAuth/RequireRole) unchanged except for adding new admin-only UI within existing admin pages."
  ],
  "nonGoals": [
    "Implementing an automated redeploy/release pipeline from within the app.",
    "Providing a guaranteed published link generated by the backend.",
    "Changing or refactoring unrelated admin/hotel/guest features that are currently working."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}