{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Restore the application to match Version 27 exactly by reverting/bringing back all backend and frontend files/state as they existed in v27.",
  "architectural_notes": [
    "Treat 'Version 27' as the canonical baseline to restore: backend/main.mo plus the full listed frontend file set, routing, role-based panels (Guest/Hotel/Admin), and related assets/docs."
  ],
  "known_issues": [
    "Current deployed version is missing or diverged from Version 27; user requests full restoration to v27."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-displayed-build-identifier-so-the-ui-clearly-indicates-version-27-e-g-the-footer-build-string-sourced-from-frontend-src-buildinfo-ts-must-reflect-version-27",
      "title": "Update the displayed build identifier so the UI clearly indicates Version 27 (e.g., the footer build string sourced from frontend/src/buildInfo.ts must reflect Version 27).",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Restore/revert the entire codebase (backend + frontend) to exactly match Version 27 (all files/state)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Restore the application code to match Version 27 exactly by reverting/recovering all backend and frontend files to their Version 27 contents, including restoring any missing role-based pages/panels (Guest/Hotel/Admin) and any backend APIs those UI flows depend on.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "If the restored Version 27 backend schema/state layout differs from the currently deployed state, implement a safe, conditional canister upgrade migration (backend/migration.mo) so existing production data remains readable and the canister can upgrade without trapping.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Run and pass the existing frontend regression checklist (frontend/REGRESSION_CHECKLIST.md) against the restored Version 27 build, focusing on authentication/authorization, role-based navigation visibility, Guest/Hotel/Admin panels, booking flows, and Admin invite token generation.",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Restore entire codebase to Version 27 (backend + frontend)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}